---
layout: post
title: "[백준] 9184번 신나는 함수 실행 (Python)"
date: 2025-12-08
categories: [Algorithm, Baekjoon]
tags: [python, algorithm, baekjoon, "9184", 다이나믹 프로그래밍, 재귀]
---

## 문제 링크
[https://www.acmicpc.net/problem/9184](https://www.acmicpc.net/problem/9184)

---

## 문제
재귀 호출만 생각하면 신이 난다! 아닌가요?

다음과 같은 재귀함수 w(a, b, c)가 있다.

if a  20 or b > 20 or c > 20, then w(a, b, c) returns:
    w(20, 20, 20)

if a 

위의 함수를 구현하는 것은 매우 쉽다. 하지만, 그대로 구현하면 값을 구하는데 매우 오랜 시간이 걸린다. (예를 들면, a=15, b=15, c=15)

a, b, c가 주어졌을 때, w(a, b, c)를 출력하는 프로그램을 작성하시오.

---

## 입력
입력은 세 정수 a, b, c로 이루어져 있으며, 한 줄에 하나씩 주어진다. 입력의 마지막은 -1 -1 -1로 나타내며, 세 정수가 모두 -1인 경우는 입력의 마지막을 제외하면 없다.

---

## 출력
입력으로 주어진 각각의 a, b, c에 대해서, w(a, b, c)를 출력한다.

---

## 성능 요약
메모리: 112656 KB, 시간: 460 ms

---

## 풀이

### 풀이 핵심 로직
문제는 주어진 세 정수 \(a\), \(b\), \(c\)에 대해 재귀 함수 \(w(a, b, c)\)의 값을 계산하는 것입니다. 이 함수는 특정 조건에 따라 값을 반환하며, 이를 효율적으로 계산하기 위해 메모이제이션(Dynamic Programming)을 사용합니다. 입력 값이 20을 초과할 경우, 20으로 제한하여 처리하고, 음수일 경우 1을 반환합니다. 이러한 규칙을 기반으로 \(w(a, b, c)\)를 계산합니다.

### 동작 과정
1. 입력 값이 -1 -1 -1일 경우 프로그램 종료.
2. 각 입력에 대해 \(w(a, b, c)\)를 계산하는 함수 호출.
3. \(a\), \(b\), \(c\)가 각각 0 이하일 경우 1을 반환.
4. \(a\), \(b\), \(c\)가 20을 초과하는 경우, \(w(20, 20, 20)\)을 호출.
5. \(dp\) 배열을 사용하여 이미 계산된 값을 저장하고, 같은 값을 다시 계산하지 않도록 한다.
6. \(a < b < c\)일 경우, 특별한 계산을 수행하여 값을 저장.
7. 나머지 경우는 기본 공식을 사용하여 재귀적으로 값을 계산.
8. 최종적으로 계산된 값을 출력.

예시 입력:
```
1 2 3
2 3 4
10 20 10
-1 -1 -1
```

출력 예시:
```
w(1, 2, 3) = 5
w(2, 3, 4) = 6
w(10, 20, 10) = 1048576
```

### 시간 복잡도
이 알고리즘은 \(O(1)\)의 시간 복잡도를 갖습니다. 모든 가능한 \(a\), \(b\), \(c\) 조합에 대해 최대 21x21x21의 3차원 배열을 사용하여 메모이제이션을 통해 결과를 저장하고 재사용하기 때문에, 실제로 필요한 계산은 상수 시간으로 이루어집니다.

---

## 코드
```python
def w(a, b, c):
    if a <= 0 or b <= 0 or c <= 0:
        return 1
    
    if a > 20 or b > 20 or c > 20:
        return w(20, 20, 20)
    
    if dp[a][b][c]:
        return dp[a][b][c]
    
    if a < b < c:
        dp[a][b][c] = w(a, b, c - 1) + w(a, b - 1, c- 1) - w(a, b - 1, c)
        return dp[a][b][c]
    
    dp[a][b][c] = w(a - 1, b, c) + w(a - 1, b - 1, c) + w(a - 1, b, c - 1) - w(a - 1, b - 1, c - 1)
    return dp[a][b][c]

dp = [[[0] * 21 for _ in range(21)] for _ in range(21)]

while True:
    a, b, c = map(int, input().split())

    if a == -1 and b == -1 and c == -1:
        exit()
    
    print(f'w({a}, {b}, {c}) = {w(a, b, c)}')
```