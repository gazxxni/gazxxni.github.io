---
layout: post
title: "[백준] 17387번 (Python)"
date: 2025-09-08
categories: [Algorithm, Baekjoon]
tags: [python, algorithm, baekjoon, "17387"]
---

## 문제 링크
[https://www.acmicpc.net/problem/17387](https://www.acmicpc.net/problem/17387)

---

## 풀이

### 풀이 핵심 로직
이 문제는 두 선분이 서로 교차하는지를 판단하는 문제입니다. 이를 위해 두 선분의 방향을 계산하는 ccw (counter-clockwise) 함수를 사용하여 선분과 점의 상대적 위치를 판단합니다. ccw의 결과를 바탕으로 두 선분이 교차하는지, 일직선상에 있는지, 혹은 겹치는지를 결정합니다.

### 동작 과정
1. 입력으로 두 선분의 좌표를 받습니다. 첫 번째 선분은 (x1, y1)에서 (x2, y2)로, 두 번째 선분은 (x3, y3)에서 (x4, y4)로 정의됩니다.
   
2. ccw 함수를 통해 다음 네 가지 값을 계산합니다:
   - o1: 첫 번째 선분과 두 번째 선분의 시작점 (x3, y3)에 대한 상대적 방향
   - o2: 첫 번째 선분과 두 번째 선분의 끝점 (x4, y4)에 대한 상대적 방향
   - o3: 두 번째 선분과 첫 번째 선분의 시작점 (x1, y1)에 대한 상대적 방향
   - o4: 두 번째 선분과 첫 번째 선분의 끝점 (x2, y2)에 대한 상대적 방향

3. 첫 번째 조건으로 네 개의 ccw 값이 모두 0일 경우, 선분이 일직선상에 있는지 판별합니다. 이때 두 선분의 좌표를 정렬하여 겹치는 구간이 있는지를 확인합니다.

4. 두 번째 조건으로 o1 * o2와 o3 * o4가 모두 0 이하일 경우, 두 선분이 교차하는지 확인합니다.

5. 결과에 따라 "1" (교차) 또는 "0" (교차하지 않음)을 출력합니다.

#### 예시 입력
```
0 0 2 2
1 1 3 3
```
- 첫 번째 선분: (0, 0)에서 (2, 2)
- 두 번째 선분: (1, 1)에서 (3, 3)

#### 계산 과정
- o1 = ccw(0, 0, 2, 2, 1, 1) = 0
- o2 = ccw(0, 0, 2, 2, 3, 3) = 0
- o3 = ccw(1, 1, 3, 3, 0, 0) = 0
- o4 = ccw(1, 1, 3, 3, 2, 2) = 0

모든 ccw 값이 0이므로, 두 선분은 일직선상에 있습니다. 이후 서로의 x와 y 범위를 비교하여 겹치는 구간을 확인하고 "1"을 출력합니다.

### 시간 복잡도
O(1) - 모든 연산이 상수 시간 내에 수행되며, 입력 크기에 의존하지 않습니다.

---

## 코드
```python
import sys
input = sys.stdin.readline

def ccw(xa, ya, xb, yb, xc, yc):
    cross = (xb - xa) * (yc - ya) - (yb - ya) * (xc - xa)
    return cross

x1, y1, x2, y2 = map(int, input().split())
x3, y3, x4, y4 = map(int, input().split())

o1 = ccw(x1, y1, x2, y2, x3, y3)
o2 = ccw(x1, y1, x2, y2, x4, y4)
o3 = ccw(x3, y3, x4, y4, x1, y1)
o4 = ccw(x3, y3, x4, y4, x2, y2)

if o1 == 0 and o2 == 0 and o3 == 0 and o4 == 0:
    if (x1, y1) > (x2, y2):
        x1, x2 = x2, x1
        y1, y2 = y2, y1
    if (x3, y3) > (x4, y4):
        x3, x4 = x4, x3
        y3, y4 = y4, y3

    
    if max(min(x1,x2), min(x3,x4)) <= min(max(x1,x2), max(x3,x4)):
        if max(min(y1,y2), min(y3,y4)) <= min(max(y1,y2), max(y3,y4)):
            print(1)
            exit()
        else:
            print(0)
            exit()
    else:
        print(0)
        exit()

if o1 * o2 <= 0 and o3 * o4 <= 0:
    print(1)
    exit()
else:
    print(0)
    exit()

```