---
layout: post
title: "[백준] 1197번 (Python)"
date: 2025-09-08
categories: [Algorithm, Baekjoon]
tags: [python, algorithm, baekjoon, "1197"]
---

## 문제 링크
[https://www.acmicpc.net/problem/1197](https://www.acmicpc.net/problem/1197)

---

## 풀이

### 풀이 핵심 로직
이 문제는 최소 신장 트리(MST)를 찾는 문제로, Kruskal 알고리즘을 사용하여 해결합니다. 주어진 간선들을 비용 순으로 정렬한 후, 사이클을 형성하지 않는 간선들을 선택하여 MST를 구성합니다. 이를 위해 유니온-파인드(Union-Find) 자료구조를 사용하여 간선의 양 끝 점이 같은 집합에 속하는지를 확인하고, 속하지 않는 경우에만 간선을 추가합니다.

### 동작 과정
1. **입력**: 정점 수 `v`와 간선 수 `e`를 입력받고, 각 간선의 정보를 `(비용, 정점 a, 정점 b)` 형태로 리스트에 저장합니다.
   - 예시 입력:
     ```
     4 5
     1 2 2
     1 3 3
     2 3 1
     2 4 4
     3 4 5
     ```
   - edges 리스트는 다음과 같이 초기화됩니다:
     ```
     edges = [(2, 1, 2), (3, 1, 3), (1, 2, 3), (4, 2, 4), (5, 3, 4)]
     ```

2. **유니온-파인드 초기화**: 각 정점의 부모를 자기 자신으로 초기화합니다.
   - `parent = [0, 1, 2, 3, 4]` (정점 0은 사용하지 않음)

3. **간선 정렬**: 간선 리스트를 비용 기준으로 오름차순 정렬합니다.
   - 정렬 후:
     ```
     edges = [(1, 2, 3), (2, 1, 2), (3, 1, 3), (4, 2, 4), (5, 3, 4)]
     ```

4. **간선 선택**: 정렬된 간선 리스트를 순회하며, 각 간선을 선택할 때마다 `union` 함수를 호출하여 사이클이 발생하지 않도록 체크합니다.
   - 첫 번째 간선 `(1, 2, 3)`을 선택하고, `union`을 통해 `2`와 `3`의 부모를 합칩니다. MST의 비용을 1로 업데이트합니다.
   - 다음 간선 `(2, 1, 2)`를 선택하고, `1`과 `2`의 부모를 합칩니다. MST의 비용을 3으로 업데이트합니다.
   - 이후 간선들은 사이클을 형성하기 때문에 선택되지 않습니다.

5. **출력**: 최종적으로 MST의 총 비용을 출력합니다.
   - 출력: `3`

### 시간 복잡도
- 간선 정렬: \(O(E \log E)\)
- 유니온-파인드 연산: 각 `union`과 `find` 연산은 거의 상수 시간 \(O(\alpha(V))\) (여기서 \(\alpha\)는 아커만 함수의 역함수)입니다.
- 전체 시간 복잡도: \(O(E \log E)\)

---

## 코드
```python
import sys
input = sys.stdin.readline

v, e = map(int, input().split())
edges = []

for _ in range(e):
    a, b, c = map(int, input().split())
    edges.append((c, a, b))  

parent = [i for i in range(v + 1)]

def find(x):
    while parent[x] != x:
        parent[x] = parent[parent[x]] 
        x = parent[x]
    return x

def union(a, b):
    a_root = find(a)
    b_root = find(b)
    if a_root != b_root:
        parent[b_root] = a_root
        return True
    return False

edges.sort()

total = 0
for cost, a, b in edges:
    if union(a, b):
        total += cost

print(total)

```