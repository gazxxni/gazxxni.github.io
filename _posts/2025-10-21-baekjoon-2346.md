---
layout: post
title: "[백준] 2346번 (Python)"
date: 2025-10-21
categories: [Algorithm, Baekjoon]
tags: [python, algorithm, baekjoon, "2346"]
---

## 문제 링크
[https://www.acmicpc.net/problem/2346](https://www.acmicpc.net/problem/2346)

---

## 풀이

### 풀이 핵심 로직
이 문제는 원형 배열에서 각 원소가 가진 값을 기반으로 순서를 결정하는 문제이다. 각 원소는 다음에 어떤 원소가 선택될지를 결정하는데, 이때 해당 원소의 값이 양수이면 오른쪽으로, 음수이면 왼쪽으로 이동하게 된다. 이를 위해 `deque`를 사용하여 효율적으로 원소를 삽입하고 삭제하며 회전할 수 있도록 한다.

### 동작 과정
1. **입력 처리**: 
   - 예를 들어, 입력이 `7`과 `3 -1 2 1 -3 2 -2`라면, 첫 줄은 원소의 개수이고 두 번째 줄은 원소 값들이다.
   - `q`에 (인덱스, 값) 형태로 각 원소를 추가하게 된다.

2. **초기 큐 상태**:
   - `q`의 상태: `[(0, 3), (1, -1), (2, 2), (3, 1), (4, -3), (5, 2), (6, -2)]`
   
3. **큐에서 원소 선택 및 회전**:
   - `while q` 루프가 시작된다. 큐에서 첫 원소 `(0, 3)`이 선택되고, `ans`에 `1`이 추가된다. 
   - `paper`가 `3`이므로 큐를 오른쪽으로 `2`번 회전한다.
   - 새로운 큐 상태: `[(1, -1), (2, 2), (3, 1), (4, -3), (5, 2), (6, -2), (0, 3)]`

4. **반복**:
   - 이 과정을 반복하여 큐에서 원소를 제거하고, 그 원소의 값에 따라 큐를 회전시킨다. 최종적으로 모든 원소의 인덱스가 `ans` 리스트에 추가된다.

5. **최종 출력**:
   - `print(*ans)`를 통해 결과를 출력한다. 예를 들어, 최종 결과는 `1 4 2 3 6 5 7`일 수 있다.

### 시간 복잡도
이 알고리즘의 시간 복잡도는 O(n)이다. 각 원소에 대해 큐에서 한 번의 삽입과 삭제가 이루어지며, `rotate` 연산도 원소 수에 비례하여 수행되지만, deque의 회전은 상수 시간으로 처리되므로 전체적으로 선형 시간이 걸린다.

---

## 코드
```python
from collections import deque

n = int(input())
arr = list(map(int, input().split()))
q = deque()
a = 0
for i in arr:
    q.append((a, i))
    a += 1

ans = []
while q:
    idx, paper = q.popleft()
    ans.append(idx + 1)

    if paper > 0:
        q.rotate(-(paper - 1))
    elif paper < 0:
        q.rotate(-paper)

print(*ans)
```