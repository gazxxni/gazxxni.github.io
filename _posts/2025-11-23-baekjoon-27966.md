---
layout: post
title: "[백준] 27966번 △ (Python)"
date: 2025-11-23
categories: [Algorithm, Baekjoon]
tags: [python, algorithm, baekjoon, "27966", 애드 혹, 트리, 해 구성하기]
---

## 문제 링크
[https://www.acmicpc.net/problem/27966](https://www.acmicpc.net/problem/27966)

---

## 문제
N$N$개의 정점으로 이루어진 트리의 모든 정점 쌍에 대하여, 두 정점 사이의 거리의 합을 최소화하시오. 정점에는 1$1$부터 N$N$까지 번호가 매겨져 있다.

즉, 정점 i$i$와 정점 j$j$ 사이의 거리를 dist(i,j)$\textrm {dist}(i,\, j)$라 할 때  ∑1≤ij≤Ndist(i,j)$\sum_{1 \leq i 가 최소인 트리를 구성해야 한다.

---

## 입력
첫째 줄에 정점의 개수 N$N$이 주어진다. (2≤N≤100000)$(2\leq N \leq 100\,000)$

---

## 출력
첫째 줄에 모든 정점 쌍에 대하여 두 정점 사이 거리의 합의 최솟값을 출력한다.

둘째 줄부터 N−1$N-1$개의 줄에 걸쳐, 트리를 이루는 간선의 정보를 출력한다. 각 줄에 간선이 연결하는 두 정점의 번호를 공백을 사이에 두고 출력한다.

조건을 만족하는 트리가 여럿이라면 아무거나 하나 출력한다.

---

## 성능 요약
메모리: 111572 KB, 시간: 140 ms

---

## 풀이

### 풀이 핵심 로직
트리 구조에서 모든 정점 쌍의 거리 합을 최소화하기 위해, 첫 번째 정점(1번 정점)과 나머지 모든 정점 간에 직접 연결하는 형태로 트리를 구성합니다. 이렇게 하면 1번 정점과의 거리는 1이 되고, 다른 정점들 간의 거리는 2가 되어 최소 거리를 확보할 수 있습니다. 최종적으로 모든 정점 쌍 간의 거리 합은 (N-1)²로 계산됩니다.

### 동작 과정
1. 입력으로 정점의 개수 N이 주어집니다.
2. 트리의 구조는 1번 정점을 루트로 하여 2번부터 N번 정점까지 모두 1번 정점과 연결합니다.
3. 거리를 계산할 때, 1번 정점에서 다른 모든 정점까지의 거리는 1이므로, 1번 정점이 아닌 정점들 간의 거리는 2가 됩니다.
4. 거리 합 계산:
   - 1번 정점과 다른 N-1개의 정점 간의 거리 합: (N-1) * 1 = N-1
   - 나머지 정점들 간의 거리 합: (N-2) * (N-1) (각 정점이 2의 거리로 연결됨)
   - 따라서 전체 거리 합은 (N-1) + (N-2)(N-1) = (N-1)²가 됩니다.

예시 입력으로 N=5일 경우:
- 1번 정점과 2, 3, 4, 5번 정점 간의 거리: 각각 1
- 2번 정점과 3, 4, 5번 정점 간의 거리: 각각 2
- 결과적으로 거리 합은 16이 됩니다.

출력은 총 거리와 트리의 간선 정보를 포함합니다.

### 시간 복잡도
O(N) - 입력을 받고, 간선을 출력하는 데 N-1번의 반복이 필요하므로 선형 시간 복잡도를 가집니다.

---

## 코드
```python
'''
1. 가운데 정점과 모든 정점과의 거리 1
2. 나머지 정점들끼리의 거리 2

n개 일때
1. n-1
2. (n-2 + n-3 + n-4 + ... + 1) * 2
    = (n-2)(n-1)
    
1, 2번은 더하면 (n-1) ** 2
'''

n = int(input())

print((n-1) ** 2)
for i in range(2, n+1):
    print(1, i)
```