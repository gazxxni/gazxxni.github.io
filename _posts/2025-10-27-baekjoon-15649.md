---
layout: post
title: "[백준] 15649번 N과 M (1) (Python)"
date: 2025-10-27
categories: [Algorithm, Baekjoon]
tags: [python, algorithm, baekjoon, "15649", 백트래킹]
---

## 문제 링크
[https://www.acmicpc.net/problem/15649](https://www.acmicpc.net/problem/15649)

---

## 문제
자연수 N과 M이 주어졌을 때, 아래 조건을 만족하는 길이가 M인 수열을 모두 구하는 프로그램을 작성하시오.


	1부터 N까지 자연수 중에서 중복 없이 M개를 고른 수열

---

## 입력
첫째 줄에 자연수 N과 M이 주어진다. (1 ≤ M ≤ N ≤ 8)

---

## 출력
한 줄에 하나씩 문제의 조건을 만족하는 수열을 출력한다. 중복되는 수열을 여러 번 출력하면 안되며, 각 수열은 공백으로 구분해서 출력해야 한다.

수열은 사전 순으로 증가하는 순서로 출력해야 한다.

---

## 성능 요약
메모리: 113968 KB, 시간: 164 ms

---

## 풀이

### 풀이 핵심 로직
이 문제는 백트래킹 기법을 사용하여 주어진 N과 M에 따라 1부터 N까지의 숫자 중에서 M개를 중복 없이 선택한 수열을 생성하는 것이다. 재귀 호출을 통해 수열을 구성하고, 수열의 길이가 M이 되었을 때 출력한다. 현재 선택한 숫자는 arr 리스트에 저장되며, 다음 숫자를 선택하기 전에 리스트에서 제거하여 중복 선택을 방지한다.

### 동작 과정
1. **입력**: N과 M을 입력받는다. 예를 들어, N=4, M=2라고 가정하자.
2. **초기화**: 빈 리스트 `arr`를 생성하여 선택한 숫자를 저장한다.
3. **재귀 함수 호출 `aa()`**: 
   - 만약 `arr`의 길이가 M과 같다면, 현재 수열을 출력하고 반환한다.
   - 1부터 N까지 반복하면서 현재 숫자가 `arr`에 없으면, 해당 숫자를 `arr`에 추가하고 `aa()`를 재귀 호출하여 다음 숫자를 선택한다.
   - 재귀 호출 후에는 마지막에 추가했던 숫자를 `arr`에서 제거하여 다음 반복에 대비한다.
4. **출력**: 모든 가능한 조합이 생성되고 출력된다. 예를 들어, 입력이 4 2일 경우 출력은 다음과 같다:
   ```
   1 2
   1 3
   1 4
   2 1
   2 3
   2 4
   3 1
   3 2
   3 4
   4 1
   4 2
   4 3
   ```

### 시간 복잡도
이 알고리즘의 시간 복잡도는 O(N^M)이다. 이는 N개의 숫자 중 M개를 선택하는 모든 조합을 생성해야 하기 때문이다. M이 최대 8까지 가능하므로, N과 M이 모두 작기 때문에 실질적으로 문제를 해결하는 데에 충분한 시간 내에 처리할 수 있다.

---

## 코드
```python
n, m = map(int, input().split())
arr = []

def aa():
    if len(arr) == m:
        print(*arr)
        return
    
    for i in range(1, n + 1):
        if i not in arr:
            arr.append(i)
            aa()
            arr.pop()
            
aa()
```