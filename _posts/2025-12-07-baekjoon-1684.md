---
layout: post
title: "[백준] 1684번 같은 나머지 (Python)"
date: 2025-12-07
categories: [Algorithm, Baekjoon]
tags: [python, algorithm, baekjoon, "1684", 수학, 정수론, 유클리드 호제법]
---

## 문제 링크
[https://www.acmicpc.net/problem/1684](https://www.acmicpc.net/problem/1684)

---

## 문제
정수 N을 정수 D로 나눴을 때의 몫을 Q, 나머지를 R이라고 하면 항등식 R = N - Q×D가 성립한다.

n개의 정수로 된 수열이 있을 때, 모든 정수를 한 정수 D로 나눴을 때 나머지가 같아지는 경우가 있다. 그리고 수열에 따라서는 이러한 정수 D가 여러 개 존재할 수 있다.

n개의 정수로 된 수열이 주어졌을 때, 가장 큰 D를 구하는 프로그램을 작성하시오.

---

## 입력
첫째 줄에 n(1 ≤ n ≤ 1,000)이 주어진다. 다음 줄에는 절댓값이 1,000,000을 넘지 않는 n개의 정수들이 주어진다.

---

## 출력
첫째 줄에 가장 큰 D를 출력한다. 항상 가장 큰 D가 존재하는 경우만 입력으로 주어진다.

---

## 성능 요약
메모리: 110744 KB, 시간: 100 ms

---

## 풀이

### 풀이 핵심 로직
주어진 수열의 모든 쌍의 차가 어떤 수 D로 나누어떨어지기 위해서는, 이 차이들의 최대공약수(GCD)가 D의 배수여야 합니다. 따라서, 배열 내의 모든 원소 간의 차이를 계산하여 그 GCD를 구하면, 우리는 가장 큰 D를 찾을 수 있습니다.

### 동작 과정
1. **입력 예시**: 
   ```
   5
   10 14 22 30 50
   ```
   - n = 5이고, 수열은 [10, 14, 22, 30, 50]입니다.

2. **차이 계산**:
   - 수열에서 두 수의 차이를 계산합니다:
     - |14 - 10| = 4
     - |22 - 10| = 12
     - |30 - 10| = 20
     - |50 - 10| = 40
     - |22 - 14| = 8
     - |30 - 14| = 16
     - |50 - 14| = 36
     - |30 - 22| = 8
     - |50 - 22| = 28
     - |50 - 30| = 20
   - 이렇게 계산한 차이들의 집합은 [4, 12, 20, 40, 8, 16, 36, 8, 28, 20]입니다.

3. **최대공약수(GCD) 계산**:
   - 이 차이들 간의 최대공약수를 계산합니다:
     - GCD(4, 12) = 4
     - GCD(4, 20) = 4
     - GCD(4, 40) = 4
     - GCD(4, 8) = 4
     - GCD(4, 16) = 4
     - GCD(4, 36) = 4
     - GCD(4, 8) = 4
     - GCD(4, 28) = 4
     - GCD(4, 20) = 4
   - 최종적으로 모든 차이의 GCD는 4입니다.

4. **출력**:
   - 따라서, 가장 큰 D는 4입니다.

### 시간 복잡도
- 수열의 길이를 n이라고 할 때, 차이를 계산하는 과정에서 모든 쌍을 고려하므로 O(n^2) 시간이 소요됩니다. GCD를 구하는 과정은 O(log(max(a, b)))의 복잡도를 가지므로, 전체적으로 O(n^2 log(max(a, b)))의 시간 복잡도를 가집니다.

---

## 코드
```python
import sys
input = sys.stdin.readline

'''
두 수의 차가 D로 나누어 떨어진다
(aᵢ - aⱼ) % D = 0 -> 성립해야함

따라서 |a₂ - a₁|, |a₃ - a₁|, ..., |aₙ - a₁|
이 숫자들의 최대공약수를 구해야함
'''

n = int(input())
arr = list(map(int, input().split()))

def gcd(a, b):
    while b != 0:
        a, b = b, a % b
        
    return a

brr = list(set(arr))
crr = []

for i in range(len(brr) - 1):
    for j in range(i + 1, len(brr)):
        crr.append(abs(brr[j] - brr[i])) 
        
ans = crr[0]
for i in range(1, len(crr)): 
    ans = gcd(ans, crr[i])
    
print(ans)
```