---
layout: post
title: "[백준] 14938번 (Python)"
date: 2025-09-08
categories: [Algorithm, Baekjoon]
tags: [python, algorithm, baekjoon, "14938"]
---

## 문제 링크
[https://www.acmicpc.net/problem/14938](https://www.acmicpc.net/problem/14938)

---

## 풀이

### 풀이 핵심 로직
이 문제는 주어진 그래프에서 어떤 정점에서 시작하여 제한된 거리 내에서 최대 아이템을 수집하는 문제입니다. Dijkstra 알고리즘을 활용하여 각 정점에서 다른 정점까지의 최단 거리를 계산하고, 그 거리가 주어진 최대 거리 내에 있는 정점에서 아이템을 합산하여 최대 아이템 수를 찾습니다.

### 동작 과정
1. **입력 처리**: 첫 줄에서 n(정점 수), m(최대 거리), r(간선 수)를 입력받고, 두 번째 줄에서 각 정점의 아이템 수를 입력받습니다. 그 후, r개의 간선을 입력받아 그래프를 구성합니다.
   
   예시 입력:
   ```
   5 10 7
   1 2 3 4 5
   1 2 1
   1 3 2
   2 4 3
   3 4 1
   2 5 5
   3 5 2
   4 5 1
   ```

2. **Dijkstra 알고리즘 적용**: 각 정점(i)에서 시작하여 dijkstra 함수를 호출합니다. 이 함수는 우선순위 큐를 사용하여 최단 거리를 계산합니다. 각 정점에서 다른 정점으로의 최단 거리를 계산하여 `distance` 리스트에 저장합니다.

3. **아이템 수 계산**: dijkstra 함수로부터 반환된 `distance` 리스트를 사용해, 각 정점에서의 거리 정보를 바탕으로 m 이하의 정점들에서 아이템을 모읍니다. 이 과정에서 최대 아이템 수를 갱신합니다.

4. **결과 출력**: 모든 정점에 대해 반복한 후, 최대 아이템 수를 출력합니다.

### 시간 복잡도
Dijkstra 알고리즘의 시간 복잡도는 O((V + E) log V)입니다. 여기서 V는 정점의 수(n), E는 간선의 수(r)입니다. 이 문제에서는 각 정점에 대해 Dijkstra 알고리즘을 실행하므로 전체 시간 복잡도는 O(V * (V + E) log V)입니다.

---

## 코드
```python
import heapq

n, m, r = map(int, input().split())
arr = list(map(int, input().split()))
INF = int(1e8)

graph = [[] for _ in range(n+1)]

for _ in range(r):
    a, b, i = map(int, input().split()) 
    graph[a].append((b, i)) 
    graph[b].append((a, i))  

def dijkstra(start):
    distance = [INF] * (n+1)
    q = []
    heapq.heappush(q, (0, start))
    distance[start] = 0  

    while q:
        dist, now = heapq.heappop(q)

        if distance[now] < dist:
            continue

        for i in graph[now]:  
            cost = dist + i[1]
            if cost < distance[i[0]]:  
                distance[i[0]] = cost  
                heapq.heappush(q, (cost, i[0]))
    
    return distance

max_items = 0
for i in range(1, n+1): 
    dist = dijkstra(i)
    total_items = 0 

    for j in range(1, n + 1):
        if dist[j] <= m: 
            total_items += arr[j - 1] 

    max_items = max(max_items, total_items)

print(max_items)

```