---
layout: post
title: "[백준] 27966번 △ (Python)"
date: 2026-01-16
categories: [Algorithm, Baekjoon]
tags: [python, algorithm, baekjoon, "27966", 애드 혹, 트리, 해 구성하기]
---

## 문제 링크
[https://www.acmicpc.net/problem/27966](https://www.acmicpc.net/problem/27966)

---

## 문제
N$N$개의 정점으로 이루어진 트리의 모든 정점 쌍에 대하여, 두 정점 사이의 거리의 합을 최소화하시오. 정점에는 1$1$부터 N$N$까지 번호가 매겨져 있다.

즉, 정점 i$i$와 정점 j$j$ 사이의 거리를 dist(i,j)$\textrm {dist}(i,\, j)$라 할 때  ∑1≤ij≤Ndist(i,j)$\sum_{1 \leq i 가 최소인 트리를 구성해야 한다.

---

## 입력
첫째 줄에 정점의 개수 N$N$이 주어진다. (2≤N≤100000)$(2\leq N \leq 100\,000)$

---

## 출력
첫째 줄에 모든 정점 쌍에 대하여 두 정점 사이 거리의 합의 최솟값을 출력한다.

둘째 줄부터 N−1$N-1$개의 줄에 걸쳐, 트리를 이루는 간선의 정보를 출력한다. 각 줄에 간선이 연결하는 두 정점의 번호를 공백을 사이에 두고 출력한다.

조건을 만족하는 트리가 여럿이라면 아무거나 하나 출력한다.

---

## 성능 요약
메모리: 111572 KB, 시간: 140 ms

---

## 풀이

### 풀이 핵심 로직
주어진 문제는 N개의 정점으로 이루어진 트리에서 모든 정점 쌍 사이의 거리를 최소화하는 것입니다. 이를 위해 모든 정점을 하나의 중심 정점에 연결하고, 나머지 정점들은 이 중심 정점에만 연결하도록 트리를 구성하면 거리의 합을 최소화할 수 있습니다. 이 경우, 중심 정점과 연결된 정점들은 거리 1을 가지며, 나머지 정점들 간의 거리는 2가 됩니다.

### 동작 과정
1. **입력**: N이 주어지면, N은 트리의 정점 수를 의미합니다.
2. **거리 합 계산**: 중심 정점(1번 정점)과 나머지 정점들(2번부터 N번까지)을 직접 연결합니다. 이 경우 1번 정점과 다른 모든 정점 간의 거리는 1이 되며, 나머지 정점들(2, 3, ..., N) 간의 거리는 2입니다.
   - 거리의 합을 계산하면, 1번 정점과의 거리 합은 (N-1) (N-1개의 정점과의 거리)이고, 나머지 정점들 간의 거리 합은 (N-2)(N-1)입니다.
   - 최종 거리 합은 (N-1)²가 됩니다.
3. **출력**: 최종 거리 합을 출력하고, 각 정점(2부터 N까지)을 1과 연결하는 간선을 출력합니다.

**예시 입력**:
```
4
```
**예시 출력**:
```
9
1 2
1 3
1 4
```
- 거리의 합: (1-2, 1-3, 1-4) 거리 1, 나머지 정점 간 (2-3, 2-4, 3-4) 거리 2.
- 트리 구조: 1 (중심) -- 2, 1 -- 3, 1 -- 4

### 시간 복잡도
O(N) - 입력을 받고 결과를 출력하기 위해 N-1개의 간선 정보를 출력하는 과정에서 선형 시간이 소요됩니다.

---

## 코드
```python
'''
1. 가운데 정점과 모든 정점과의 거리 1
2. 나머지 정점들끼리의 거리 2

n개 일때
1. n-1
2. (n-2 + n-3 + n-4 + ... + 1) * 2
    = (n-2)(n-1)
    
1, 2번은 더하면 (n-1) ** 2
'''

n = int(input())

print((n-1) ** 2)
for i in range(2, n+1):
    print(1, i)
```