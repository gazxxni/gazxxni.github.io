---
layout: post
title: "[백준] 30805번 (Python)"
date: 2025-09-08
categories: [Algorithm, Baekjoon]
tags: [python, algorithm, baekjoon, "30805"]
---

## 문제 링크
[https://www.acmicpc.net/problem/30805](https://www.acmicpc.net/problem/30805)

---

## 풀이

### 풀이 핵심 로직
이 문제의 핵심 아이디어는 두 개의 배열에서 최댓값을 비교하여 더 큰 값을 가진 배열에서 해당 값을 제거하고, 두 값이 같으면 결과 리스트에 추가하는 방식으로 진행하는 것입니다. 이 과정을 두 배열 중 하나가 비어 있을 때까지 반복하며, 최종적으로 공통된 최대값들을 결과 리스트에 저장합니다.

### 동작 과정
1. **입력 예시**: 
   - n = 5
   - arr = [5, 3, 2, 6, 1]
   - m = 4
   - brr = [4, 6, 2, 3]

2. **1단계**: arr에서 최대값 6과 brr에서 최대값 6을 비교합니다.
   - 두 값이 같으므로 ans에 6을 추가하고, 두 배열에서 6 이후의 부분으로 재귀 호출합니다.
   - arr = [5, 3, 2, 1], brr = [4, 2, 3]

3. **2단계**: arr에서 최대값 5와 brr에서 최대값 4를 비교합니다.
   - 5가 더 크므로 arr에서 5를 제거하고 재귀 호출합니다.
   - arr = [3, 2, 1], brr = [4, 2, 3]

4. **3단계**: arr에서 최대값 3과 brr에서 최대값 4를 비교합니다.
   - 4가 더 크므로 brr에서 4를 제거하고 재귀 호출합니다.
   - arr = [3, 2, 1], brr = [2, 3]

5. **4단계**: arr에서 최대값 3과 brr에서 최대값 3을 비교합니다.
   - 두 값이 같으므로 ans에 3을 추가하고, 재귀 호출합니다.
   - arr = [2, 1], brr = [2]

6. **5단계**: arr에서 최대값 2와 brr에서 최대값 2를 비교합니다.
   - 두 값이 같으므로 ans에 2를 추가하고, 재귀 호출합니다.
   - arr = [1], brr = []

7. **6단계**: brr가 비어 있으므로 탐색 종료.

8. **최종 출력**: 
   - ans = [6, 3, 2]
   - 결과적으로 출력은 3과 6, 3, 2가 됩니다.

### 시간 복잡도
이 알고리즘의 시간 복잡도는 O(n^2)입니다. 각 호출에서 최대값을 찾기 위해 배열을 탐색하고, pop()을 사용하여 요소를 제거하는 과정이 포함되어 있기 때문입니다. 최악의 경우 모든 요소를 제거하는 과정에서 각각의 단계가 n-1, n-2,...,1의 복잡도를 갖게 되어 O(n^2)의 복잡도를 가집니다.

---

## 코드
```python
n = int(input())
arr = list(map(int, input().split()))   
m = int(input())
brr = list(map(int, input().split()))

ans = []

def search(arr, brr):
    if not arr or not brr:  # 두 배열 중 하나라도 비어 있으면 결과 반환
        return ans
    
    tmp1, tmp2 = max(arr), max(brr)
    idx1, idx2 = arr.index(tmp1), brr.index(tmp2)

    if tmp1 > tmp2:  # tmp1이 더 크면 arr에서 제거하고 재귀 호출
        arr.pop(idx1)
        return search(arr, brr)
    
    elif tmp1 < tmp2:  # tmp2가 더 크면 brr에서 제거하고 재귀 호출
        brr.pop(idx2)
        return search(arr, brr)
    
    else:  # 두 값이 같으면 결과에 추가하고 그 이후 부분으로 재귀 호출
        ans.append(tmp1)
        return search(arr[idx1 + 1 :], brr[idx2 + 1 :])
    
a = search(arr, brr)

print(len(a))
if a:
    print(*a)
```