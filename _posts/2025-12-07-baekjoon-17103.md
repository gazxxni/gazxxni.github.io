---
layout: post
title: "[백준] 17103번 골드바흐 파티션 (Python)"
date: 2025-12-07
categories: [Algorithm, Baekjoon]
tags: [python, algorithm, baekjoon, "17103", 수학, 정수론, 소수 판정, 에라토스테네스의 체]
---

## 문제 링크
[https://www.acmicpc.net/problem/17103](https://www.acmicpc.net/problem/17103)

---

## 문제
골드바흐의 추측: 2보다 큰 짝수는 두 소수의 합으로 나타낼 수 있다.


짝수 N을 두 소수의 합으로 나타내는 표현을 골드바흐 파티션이라고 한다. 짝수 N이 주어졌을 때, 골드바흐 파티션의 개수를 구해보자. 두 소수의 순서만 다른 것은 같은 파티션이다.

---

## 입력
첫째 줄에 테스트 케이스의 개수 T (1 ≤ T ≤ 100)가 주어진다. 각 테스트 케이스는 한 줄로 이루어져 있고, 정수 N은 짝수이고, 2

---

## 출력
각각의 테스트 케이스마다 골드바흐 파티션의 수를 출력한다.

---

## 성능 요약
메모리: 134592 KB, 시간: 212 ms

---

## 풀이

### 풀이 핵심 로직
골드바흐 파티션을 구하기 위해 먼저 주어진 범위 내의 모든 소수를 효율적으로 구하는 에라토스테네스의 체 알고리즘을 사용합니다. 이후, 각 짝수 N에 대해 소수 리스트를 순회하며 N을 두 소수의 합으로 나타낼 수 있는 경우를 카운트합니다. 이때, 순서를 고려하지 않기 위해 N의 절반까지의 소수만 확인합니다.

### 동작 과정
1. **소수 리스트 생성**: `primenum(n)` 함수를 통해 2부터 1,000,000까지의 소수를 구합니다.
   - `arr` 배열을 초기화하여 소수 여부를 표시합니다.
   - 에라토스테네스의 체를 이용해 소수를 찾아 `brr` 리스트에 저장합니다.

2. **테스트 케이스 처리**: 입력으로 주어진 짝수 N에 대해 다음을 수행합니다.
   - `cnt` 변수를 0으로 초기화합니다.
   - 소수 리스트 `a`를 순회하여 소수 `i`에 대해 `n - i`가 소수 집합 `b`에 존재하는지 확인합니다.
   - `i`가 N의 절반보다 크면 반복을 종료합니다.
   - `n - i`가 소수일 경우 `cnt`를 증가시킵니다.

3. **결과 출력**: 각 테스트 케이스에 대해 구한 파티션의 개수를 출력합니다.

예를 들어, 입력이 `T = 1`이고 `N = 8`일 경우:
- 가능한 소수 쌍은 (3, 5)입니다. `3 + 5 = 8`이므로 결과는 1입니다.

### 시간 복잡도
- 소수 리스트를 구하는 과정은 O(n log log n)입니다. 여기서 n은 1,000,000입니다.
- 각 테스트 케이스마다 소수 리스트를 순회하는 과정은 O(m), m은 소수의 개수입니다. 
- 전체 시간 복잡도는 O(n log log n + T * m)입니다. T는 테스트 케이스 개수로 최대 100입니다.

---

## 코드
```python
def primenum(n):
    arr = [True] * (n + 1)
    arr[0] = arr[1] = False
    
    for i in range(2, int(n ** 0.5) + 1):
        if arr[i]:
            for j in range(i * i, n + 1, i):
                arr[j] = False
                
    brr = []
    for i in range(2, n + 1):
        if arr[i]:
            brr.append(i)
            
    return brr

a = primenum(1000000)
b = set(a)
t = int(input())

for _ in range(t):
    n = int(input())

    cnt = 0

    for i in a:
        if i > n // 2:
            break
        
        if (n - i) in b:
            cnt += 1
            
    print(cnt)
```